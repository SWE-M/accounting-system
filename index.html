<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="script-src 'self'">
  <title>نظام الفواتير</title>
  <link rel="stylesheet" href="styles.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.1/xlsx.full.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>نظام الفواتير</h1>

    <!-- نموذج إدخال بيانات العميل -->
    <div class="client-info">
      <h3>معلومات العميل</h3>
      <form id="invoice-form">
        <label for="client-name">اسم العميل:</label>
        <input type="text" id="client-name" placeholder="أدخل اسم العميل" required><br>

        <label for="client-phone">رقم جوال العميل:</label>
        <input type="text" id="client-phone" placeholder="أدخل رقم الجوال" required><br>

        <label for="invoice-date">تاريخ الفاتورة:</label>
        <input type="date" id="invoice-date" required><br>

        <label for="purchase-product">المنتج:</label>
        <input type="text" id="purchase-product" placeholder="أدخل اسم المنتج" required><br>

        <label for="purchase-quantity">الكمية:</label>
        <input type="number" id="purchase-quantity" placeholder="أدخل الكمية" required><br>

        <label for="purchase-price">السعر:</label>
        <input type="number" id="purchase-price" placeholder="أدخل السعر" required><br>

        <button type="button" id="add-purchase">إضافة منتج</button>
      </form>
    </div>

    <!-- زر إضافة فاتورة جديدة -->
    <button type="button" id="new-invoice">إضافة فاتورة جديدة</button>

    <!-- عرض جدول المشتريات -->
    <h3>جدول المشتريات</h3>
    <table id="purchases-table">
      <thead>
        <tr>
          <th>المنتج</th>
          <th>الكمية</th>
          <th>السعر</th>
          <th>المجموع</th>
        </tr>
      </thead>
      <tbody>
        <!-- سيتم إضافة الصفوف هنا -->
      </tbody>
    </table>

    <!-- حساب الضريبة والمجموع -->
    <div class="totals">
      <p><strong>جمع الضريبة (15%):</strong> <span id="tax-total">0.00</span></p>
      <p><strong>المجموع الكلي:</strong> <span id="grand-total">0.00</span></p>
    </div>

    <!-- زر تحميل الفاتورة -->
    <button id="download-invoice">تحميل الفاتورة</button>
  </div>

  <script src="script.js"></script>
</body>
</html>
